!function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(n){return e[n]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){e.exports=t(1)},function(e,n,t){"use strict";t.r(n);var o=function(e,n,t){return e.hasOwnProperty(n)?e[n]:t},r=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},i=/^(?:(en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang))$|^((?:[a-z]{2,3}(?:(?:-[a-z]{3}){1,3})?)|[a-z]{4}|[a-z]{5,8})(?:-([a-z]{4}))?(?:-([a-z]{2}|\d{3}))?((?:-(?:[\da-z]{5,8}|\d[\da-z]{3}))*)?((?:-[\da-wy-z](?:-[\da-z]{2,8})+)*)?(-x(?:-[\da-z]{1,8})+)?$|^(x(?:-[\da-z]{1,8})+)$/i;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var u=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.browserSupport="speechSynthesis"in window&&"SpeechSynthesisUtterance"in window,this.synthesisVoice=null}var n,t,u;return n=e,(t=[{key:"init",value:function(e){var n=this;return new Promise(function(t,r){n.browserSupport||r("Your browser does not support Speech Synthesis");var i=o(e,"listeners",{}),s=o(e,"splitSentences",!0),a=o(e,"lang"),u=o(e,"volume",1),c=o(e,"rate",1),l=o(e,"pitch",1),f=o(e,"voice");Object.keys(i).forEach(function(e){var n=i[e];"onvoiceschanged"!==e&&(speechSynthesis[e]=function(e){n&&n(e)})}),n._loadVoices().then(function(e){i.onvoiceschanged&&i.onvoiceschanged(e),null!=a&&n.setLanguage(a),null!=f&&n.setVoice(f),null!=u&&n.setVolume(u),null!=c&&n.setRate(c),null!=l&&n.setPitch(l),null!=s&&n.setSplitSentences(s),t({voices:e,lang:n.lang,voice:n.voice,volume:n.volume,rate:n.rate,pitch:n.pitch,splitSentences:n.splitSentences,browserSupport:n.browserSupport})}).catch(function(){r()})})}},{key:"_fetchVoices",value:function(){return new Promise(function(e,n){setTimeout(function(){var t=speechSynthesis.getVoices();return t&&t.length>0?e(t):n()},100)})}},{key:"_loadVoices",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._fetchVoices().catch(function(t){if(0===n)throw t;return e._loadVoices(n-1)})}},{key:"hasBrowserSupport",value:function(){return this.browserSupport}},{key:"setVoice",value:function(e){var n,t=speechSynthesis.getVoices();if("string"==typeof e?n=t.find(function(n){return n.name===e}):"object"===s(e)&&(n=e),!n)throw"Error setting voice. The voice you passed is not valid or the voices have not been loaded yet.";this.synthesisVoice=n}},{key:"setLanguage",value:function(e){if(e=e.replace("_","-"),"string"!=typeof(n=e)||!i.test(n))throw"Error setting language. Please verify your locale is BCP47 format (http://schneegans.de/lv/?tags=es-FR&format=text)";var n;this.lang=e}},{key:"setVolume",value:function(e){if(!("number"==typeof(e=parseFloat(e))&&e>=0&&e<=1))throw"Error setting volume. Please verify your volume value is a number between 0 and 1.";this.volume=e}},{key:"setRate",value:function(e){if(!("number"==typeof(e=parseFloat(e))&&e>=0&&e<=10))throw"Error setting rate. Please verify your volume value is a number between 0 and 10.";this.rate=e}},{key:"setPitch",value:function(e){if(!("number"==typeof(e=parseFloat(e))&&e>=0&&e<=2))throw"Error setting pitch. Please verify your pitch value is a number between 0 and 2.";this.pitch=e}},{key:"setSplitSentences",value:function(e){this.splitSentences=e}},{key:"speak",value:function(e){var n=this;return new Promise(function(t,o){var i=e.text,s=e.listeners,a=void 0===s?{}:s,u=e.queue,c=void 0===u||u,l=r(i);null==l&&t(),!c&&n.cancel();var f=[],p=n.splitSentences?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/\.+/g,".|").replace(/\?/g,"?|").replace(/\!/g,"!|").split("|").map(function(e){return r(e)}).filter(function(e){return""!=e})}(l):[l];p.forEach(function(e,r){var i=r===p.length-1,s=new SpeechSynthesisUtterance;n.synthesisVoice&&(s.voice=n.synthesisVoice),n.lang&&(s.lang=n.lang),n.volume&&(s.volume=n.volume),n.rate&&(s.rate=n.rate),n.pitch&&(s.pitch=n.pitch),s.text=e,Object.keys(a).forEach(function(e){var n=a[e];s[e]=function(r){n&&n(r),"onerror"===e&&o({utterances:f,lastUtterance:s,error:r}),"onend"===e&&i&&t({utterances:f,lastUtterance:s})}}),f.push(s),speechSynthesis.speak(s)})})}},{key:"pending",value:function(){return speechSynthesis.pending}},{key:"paused",value:function(){return speechSynthesis.paused}},{key:"speaking",value:function(){return speechSynthesis.speaking}},{key:"pause",value:function(){speechSynthesis.pause()}},{key:"resume",value:function(){speechSynthesis.resume()}},{key:"cancel",value:function(){speechSynthesis.cancel()}}])&&a(n.prototype,t),u&&a(n,u),e}(),c=function(e){var n=window.document.createElement("div"),t='<h2>Available Voices</h2><select id="languages"><option value="">autodetect language</option>';e.forEach(function(e){t+='<option value="'.concat(e.lang,'" data-name="').concat(e.name,'">').concat(e.name," (").concat(e.lang,")</option>")}),n.innerHTML=t,window.document.body.appendChild(n)};!function(){var e=new u;e.init({volume:.5,lang:"en-GB",rate:1,pitch:1,listeners:{onvoiceschanged:function(e){console.log("Voices changed",e)}}}).then(function(n){console.log("Speech is ready",n),c(n.voices),function(e){var n=document.getElementById("play"),t=document.getElementById("pause"),o=document.getElementById("resume"),r=document.getElementById("text"),i=document.getElementById("languages");n.addEventListener("click",function(){var n=i.value,t=i.options[i.selectedIndex].dataset.name;n&&e.setLanguage(i.value),t&&e.setVoice(t),e.speak({text:r.value,queue:!1,listeners:{onstart:function(){console.log("Start utterance")},onend:function(){console.log("End utterance")},onresume:function(){console.log("Resume utterance")},onboundary:function(e){console.log(e.name+" boundary reached after "+e.elapsedTime+" milliseconds.")}}}).then(function(e){console.log("Success !",e)}).catch(function(e){console.error("An error occurred :",e)})}),t.addEventListener("click",function(){e.pause()}),o.addEventListener("click",function(){e.resume()})}(e)}).catch(function(e){console.error("An error occured while initializing : ",e)});var n=e.hasBrowserSupport()?"Hurray, your browser supports speech synthesis":"Your browser does NOT support speech synthesis. Try using Chrome of Safari instead !";document.getElementById("support").innerHTML=n}()}]);